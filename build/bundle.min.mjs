/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function e(e,t,r,i){var s,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(n<3?s(a):n>3?s(t,r,a):s(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a}class t{constructor(e=[]){this._data=[],this._data=e instanceof t?e._data:[...e]}get length(){return this._data.length}get(e){return this._data[r(e,this.length)]}set(e,t){this._data[r(e,this.length)]=t}splice(e,t,...r){if(t>=this.length)return void(this._data=[]);if(e+t<this.length)return void this._data.splice(e,t,...r);const i=this.length-e,s=t-i;this._data.splice(e,i,...r.slice(0,i)),this._data.splice(0,s,...r.slice(i))}filter(e){return new this.constructor(this._data.filter((t,r)=>e(t,r,this.neighbourhood(r))))}[Symbol.iterator](){return this._data.values()}*neighbourhoods(){for(let e of this._data.keys())yield this.neighbourhood(e)}neighbourhood(e){return t=>this.get(e+t)}map(e){return new this.constructor(this._data.map((t,r)=>e(t,r,this.neighbourhood(r))))}forEach(e){this._data.forEach((t,r)=>e(t,r,this.neighbourhood(r)))}}function r(e,t){return(e%t+t)%t}function i(...e){return e.reduce(([e,t],[r,i])=>[e+r,t+i])}function s([e,t],[r,i]){return[e-r,t-i]}function n([e,t],r){return[e*r,t*r]}function a([e,t]){return e*e+t*t}function o([e,t],[r,i]){return e==r&&t==i}class l extends t{max(){return Math.max(...this._data)}min(){return Math.min(...this._data)}}function h(e){const t=s(e(1),e(-1)),r=i(e(1),e(-1),n(e(0),-2)),o=.25*a(s(e(1),e(-1)));return.5*function([e,t],[r,i]){return e*i-t*r}(t,r)*Math.pow(o,-1.5)}function u(e){return Math.abs(h(e))}class d extends t{curvature(){return new l(this.map((e,t,r)=>u(r)))}area(){const e=this.length;let t=0;for(let r=0;r<e;++r)t+=this.get(r)[0]*this.get(r+1)[1];let r=0;for(let t=0;t<e;++t)r+=this.get(t+1)[0]*this.get(t)[1];return Math.abs(t-r)/2}center(){return n(i(...this),1/this.length)}scale(e){const t=this.center();return this.map(r=>(function(e,t,r){return i(n(s(e,t),r),t)})(r,t,e))}}function c(e){return(t,r,o)=>{if(h(o)<0)return t;let l=i(o(1),o(-1),n(o(0),-2)),u=.25*a(s(o(1),o(-1)));return i(o(0),n(l,e/u))}}function p(e,t){for(let r=0;r<e.length;r++){const o=e.get(r),l=s(e.get(r+1),o),h=a(l);h>4*t*t?e.splice(1+r,0,i(o,n(l,t*Math.pow(h,-.5)))):e.length>4&&4*h<Math.pow(t,2)&&e.splice(r--,1)}}function v(e){for(let t=0;t<e.length;t++)o(e.get(t),e.get(t+2))&&e.splice(t--,2)}function f(e,t,{colorFunction:r=(i="black",()=>i)}={}){var i;t.save(),e.forEach((e,i,s)=>{t.strokeStyle=r(e,i,s),t.beginPath(),t.moveTo(...s(0)),t.lineTo(...s(1)),t.stroke()}),t.restore()}function g(e,t,r=0){t.save(),t.strokeStyle="black",t.beginPath(),t.moveTo(...e[0]);for(let r of e)t.lineTo(...r);t.stroke(),r&&(t.globalAlpha=r,t.beginPath(),t.lineTo(...e[0]),t.stroke()),t.restore()}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */var m=new WeakMap,y=e=>"function"==typeof e&&m.has(e),_=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,b=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t!==r;){var i=t.nextSibling;e.removeChild(t),t=i}},w={},S={},x="{{lit-".concat(String(Math.random()).slice(2),"}}"),P="\x3c!--".concat(x,"--\x3e"),k=new RegExp("".concat(x,"|").concat(P)),C="$lit$";class N{constructor(e,t){this.parts=[],this.element=t;for(var r=[],i=[],s=document.createTreeWalker(t.content,133,null,!1),n=0,a=-1,o=0,{strings:l,values:{length:h}}=e;o<h;){var u=s.nextNode();if(null!==u){if(a++,1===u.nodeType){if(u.hasAttributes()){for(var d=u.attributes,{length:c}=d,p=0,v=0;v<c;v++)A(d[v].name,C)&&p++;for(;p-- >0;){var f=l[o],g=M.exec(f)[2],m=g.toLowerCase()+C,y=u.getAttribute(m);u.removeAttribute(m);var _=y.split(k);this.parts.push({type:"attribute",index:a,name:g,strings:_}),o+=_.length-1}}"TEMPLATE"===u.tagName&&(i.push(u),s.currentNode=u.content)}else if(3===u.nodeType){var b=u.data;if(b.indexOf(x)>=0){for(var w=u.parentNode,S=b.split(k),P=S.length-1,N=0;N<P;N++){var E=void 0,O=S[N];if(""===O)E=T();else{var V=M.exec(O);null!==V&&A(V[2],C)&&(O=O.slice(0,V.index)+V[1]+V[2].slice(0,-C.length)+V[3]),E=document.createTextNode(O)}w.insertBefore(E,u),this.parts.push({type:"node",index:++a})}""===S[P]?(w.insertBefore(T(),u),r.push(u)):u.data=S[P],o+=P}}else if(8===u.nodeType)if(u.data===x){var R=u.parentNode;null!==u.previousSibling&&a!==n||(a++,R.insertBefore(T(),u)),n=a,this.parts.push({type:"node",index:a}),null===u.nextSibling?u.data="":(r.push(u),a--),o++}else for(var j=-1;-1!==(j=u.data.indexOf(x,j+1));)this.parts.push({type:"node",index:-1}),o++}else s.currentNode=i.pop()}for(var q of r)q.parentNode.removeChild(q)}}var A=(e,t)=>{var r=e.length-t.length;return r>=0&&e.slice(r)===t},E=e=>-1!==e.index,T=()=>document.createComment(""),M=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class O{constructor(e,t,r){this.__parts=[],this.template=e,this.processor=t,this.options=r}update(e){var t=0;for(var r of this.__parts)void 0!==r&&r.setValue(e[t]),t++;for(var i of this.__parts)void 0!==i&&i.commit()}_clone(){for(var e,t=_?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),r=[],i=this.template.parts,s=document.createTreeWalker(t,133,null,!1),n=0,a=0,o=s.nextNode();n<i.length;)if(e=i[n],E(e)){for(;a<e.index;)a++,"TEMPLATE"===o.nodeName&&(r.push(o),s.currentNode=o.content),null===(o=s.nextNode())&&(s.currentNode=r.pop(),o=s.nextNode());if("node"===e.type){var l=this.processor.handleTextExpression(this.options);l.insertAfterNode(o.previousSibling),this.__parts.push(l)}else this.__parts.push(...this.processor.handleAttributeExpressions(o,e.name,e.strings,this.options));n++}else this.__parts.push(void 0),n++;return _&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */var V=" ".concat(x," ");class R{constructor(e,t,r,i){this.strings=e,this.values=t,this.type=r,this.processor=i}getHTML(){for(var e=this.strings.length-1,t="",r=!1,i=0;i<e;i++){var s=this.strings[i],n=s.lastIndexOf("\x3c!--");r=(n>-1||r)&&-1===s.indexOf("--\x3e",n+1);var a=M.exec(s);t+=null===a?s+(r?V:P):s.substr(0,a.index)+a[1]+a[2]+C+a[3]+x}return t+=this.strings[e]}getTemplateElement(){var e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */var j=e=>null===e||!("object"==typeof e||"function"==typeof e),q=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class z{constructor(e,t,r){this.dirty=!0,this.element=e,this.name=t,this.strings=r,this.parts=[];for(var i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}_createPart(){return new F(this)}_getValue(){for(var e=this.strings,t=e.length-1,r="",i=0;i<t;i++){r+=e[i];var s=this.parts[i];if(void 0!==s){var n=s.value;if(j(n)||!q(n))r+="string"==typeof n?n:String(n);else for(var a of n)r+="string"==typeof a?a:String(a)}}return r+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class F{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===w||j(e)&&e===this.value||(this.value=e,y(e)||(this.committer.dirty=!0))}commit(){for(;y(this.value);){var e=this.value;this.value=w,e(this)}this.value!==w&&this.committer.commit()}}class U{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(T()),this.endNode=e.appendChild(T())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=T()),e.__insert(this.endNode=T())}insertAfterPart(e){e.__insert(this.startNode=T()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;y(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=w,e(this)}var t=this.__pendingValue;t!==w&&(j(t)?t!==this.value&&this.__commitText(t):t instanceof R?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):q(t)?this.__commitIterable(t):t===S?(this.value=S,this.clear()):this.__commitText(t))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){var t=this.startNode.nextSibling,r="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=r:this.__commitNode(document.createTextNode(r)),this.value=e}__commitTemplateResult(e){var t=this.options.templateFactory(e);if(this.value instanceof O&&this.value.template===t)this.value.update(e.values);else{var r=new O(t,e.processor,this.options),i=r._clone();r.update(e.values),this.__commitNode(i),this.value=r}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());var t,r=this.value,i=0;for(var s of e)void 0===(t=r[i])&&(t=new U(this.options),r.push(t),0===i?t.appendIntoPart(this):t.insertAfterPart(r[i-1])),t.setValue(s),t.commit(),i++;i<r.length&&(r.length=i,this.clear(t&&t.endNode))}clear(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;b(this.startNode.parentNode,e.nextSibling,this.endNode)}}class B{constructor(e,t,r){if(this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=r}setValue(e){this.__pendingValue=e}commit(){for(;y(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=w,e(this)}if(this.__pendingValue!==w){var t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=w}}}class I extends z{constructor(e,t,r){super(e,t,r),this.single=2===r.length&&""===r[0]&&""===r[1]}_createPart(){return new L(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class L extends F{}var H=!1;try{var $={get capture(){return H=!0,!1}};window.addEventListener("test",$,$),window.removeEventListener("test",$,$)}catch(e){}class W{constructor(e,t,r){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=r,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;y(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=w,e(this)}if(this.__pendingValue!==w){var t=this.__pendingValue,r=this.value,i=null==t||null!=r&&(t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive),s=null!=t&&(null==r||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),s&&(this.__options=D(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=w}}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}var D=e=>e&&(H?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */var J=new class{handleAttributeExpressions(e,t,r,i){var s=t[0];return"."===s?new I(e,t.slice(1),r).parts:"@"===s?[new W(e,t.slice(1),i.eventContext)]:"?"===s?[new B(e,t.slice(1),r)]:new z(e,t,r).parts}handleTextExpression(e){return new U(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function X(e){var t=Y.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},Y.set(e.type,t));var r=t.stringsArray.get(e.strings);if(void 0!==r)return r;var i=e.strings.join(x);return void 0===(r=t.keyString.get(i))&&(r=new N(e,e.getTemplateElement()),t.keyString.set(i,r)),t.stringsArray.set(e.strings,r),r}var Y=new Map,G=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");var K=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return new R(e,r,"html",J)},Q=133;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function Z(e,t){for(var{element:{content:r},parts:i}=e,s=document.createTreeWalker(r,Q,null,!1),n=te(i),a=i[n],o=-1,l=0,h=[],u=null;s.nextNode();){o++;var d=s.currentNode;for(d.previousSibling===u&&(u=null),t.has(d)&&(h.push(d),null===u&&(u=d)),null!==u&&l++;void 0!==a&&a.index===o;)a.index=null!==u?-1:a.index-l,a=i[n=te(i,n)]}h.forEach(e=>e.parentNode.removeChild(e))}var ee=e=>{for(var t=11===e.nodeType?0:1,r=document.createTreeWalker(e,Q,null,!1);r.nextNode();)t++;return t},te=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=t+1;r<e.length;r++){var i=e[r];if(E(i))return r}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
var re=(e,t)=>"".concat(e,"--").concat(t),ie=!0;void 0===window.ShadyCSS?ie=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),ie=!1);var se=e=>t=>{var r=re(t.type,e),i=Y.get(r);void 0===i&&(i={stringsArray:new WeakMap,keyString:new Map},Y.set(r,i));var s=i.stringsArray.get(t.strings);if(void 0!==s)return s;var n=t.strings.join(x);if(void 0===(s=i.keyString.get(n))){var a=t.getTemplateElement();ie&&window.ShadyCSS.prepareTemplateDom(a,e),s=new N(t,a),i.keyString.set(n,s)}return i.stringsArray.set(t.strings,s),s},ne=["html","svg"],ae=new Set,oe=(e,t,r)=>{ae.add(e);var i=r?r.element:document.createElement("template"),s=t.querySelectorAll("style"),{length:n}=s;if(0!==n){for(var a=document.createElement("style"),o=0;o<n;o++){var l=s[o];l.parentNode.removeChild(l),a.textContent+=l.textContent}(e=>{ne.forEach(t=>{var r=Y.get(re(t,e));void 0!==r&&r.keyString.forEach(e=>{var{element:{content:t}}=e,r=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{r.add(e)}),Z(e,r)})})})(e);var h=i.content;r?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,{element:{content:i},parts:s}=e;if(null!=r)for(var n=document.createTreeWalker(i,Q,null,!1),a=te(s),o=0,l=-1;n.nextNode();){for(l++,n.currentNode===r&&(o=ee(t),r.parentNode.insertBefore(t,r));-1!==a&&s[a].index===l;){if(o>0){for(;-1!==a;)s[a].index+=o,a=te(s,a);return}a=te(s,a)}}else i.appendChild(t)}(r,a,h.firstChild):h.insertBefore(a,h.firstChild),window.ShadyCSS.prepareTemplateStyles(i,e);var u=h.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==u)t.insertBefore(u.cloneNode(!0),t.firstChild);else if(r){h.insertBefore(a,h.firstChild);var d=new Set;d.add(a),Z(r,d)}}else window.ShadyCSS.prepareTemplateStyles(i,e)};function le(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}window.JSCompiler_renameProperty=(e,t)=>e;var he={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},ue=(e,t)=>t!==e&&(t==t||e==e),de={attribute:!0,type:String,converter:he,reflect:!1,hasChanged:ue},ce=Promise.resolve(!0),pe=1,ve=4,fe=8,ge=16,me=32,ye="finalized";class _e extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=ce,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();var e=[];return this._classProperties.forEach((t,r)=>{var i=this._attributeNameForProperty(r,t);void 0!==i&&(this._attributeToPropertyMap.set(i,r),e.push(i))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de;if(this._ensureClassProperties(),this._classProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var r="symbol"==typeof e?Symbol():"__".concat(e);Object.defineProperty(this.prototype,e,{get(){return this[r]},set(t){var i=this[e];this[r]=t,this._requestUpdate(e,i)},configurable:!0,enumerable:!0})}}static finalize(){var e=Object.getPrototypeOf(this);if(e.hasOwnProperty(ye)||e.finalize(),this[ye]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var t=this.properties,r=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(var i of r)this.createProperty(i,t[i])}}static _attributeNameForProperty(e,t){var r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue)(e,t)}static _propertyValueFromAttribute(e,t){var r=t.type,i=t.converter||he,s="function"==typeof i?i:i.fromAttribute;return s?s(e,r):e}static _propertyValueToAttribute(e,t){if(void 0!==t.reflect){var r=t.type,i=t.converter;return(i&&i.toAttribute||he.toAttribute)(e,r)}}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){var r=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,r)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|me,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,r){t!==r&&this._attributeToProperty(e,r)}_propertyToAttribute(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:de,i=this.constructor,s=i._attributeNameForProperty(e,r);if(void 0!==s){var n=i._propertyValueToAttribute(t,r);if(void 0===n)return;this._updateState=this._updateState|fe,null==n?this.removeAttribute(s):this.setAttribute(s,n),this._updateState=this._updateState&~fe}}_attributeToProperty(e,t){if(!(this._updateState&fe)){var r=this.constructor,i=r._attributeToPropertyMap.get(e);if(void 0!==i){var s=r._classProperties.get(i)||de;this._updateState=this._updateState|ge,this[i]=r._propertyValueFromAttribute(t,s),this._updateState=this._updateState&~ge}}}_requestUpdate(e,t){var r=!0;if(void 0!==e){var i=this.constructor,s=i._classProperties.get(e)||de;i._valueHasChanged(this[e],t,s.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==s.reflect||this._updateState&ge||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,s))):r=!1}!this._hasRequestedUpdate&&r&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}_enqueueUpdate(){var e,t=this;return(e=function*(){var e,r;t._updateState=t._updateState|ve;var i=t._updatePromise;t._updatePromise=new Promise((t,i)=>{e=t,r=i});try{yield i}catch(e){}t._hasConnected||(yield new Promise(e=>t._hasConnectedResolver=e));try{var s=t.performUpdate();null!=s&&(yield s)}catch(e){r(e)}e(!t._hasRequestedUpdate)},function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){le(n,i,s,a,o,"next",e)}function o(e){le(n,i,s,a,o,"throw",e)}a(void 0)}))})()}get _hasConnected(){return this._updateState&me}get _hasRequestedUpdate(){return this._updateState&ve}get hasUpdated(){return this._updateState&pe}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();var e=!1,t=this._changedProperties;try{(e=this.shouldUpdate(t))&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(this._updateState&pe||(this._updateState=this._updateState|pe,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~ve}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}_e[ye]=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
var be=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}}:Object.assign({},t,{finisher(r){r.createProperty(t.key,e)}}),we=(e,t,r)=>{t.constructor.createProperty(r,e)};function Se(e){return(t,r)=>void 0!==r?we(e,t,r):be(e,t)}var xe=(e,t,r)=>{Object.defineProperty(t,r,e)},Pe=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e}),ke="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");var Ce=e=>e.flat?e.flat(1/0):function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=0,s=t.length;i<s;i++){var n=t[i];Array.isArray(n)?e(n,r):r.push(n)}return r}(e);class Ne extends _e{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){var e=this.styles,t=[];Array.isArray(e)?Ce(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e)):e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){var e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ke?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);var t=this.render();t instanceof R&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{var t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}Ne.finalized=!0,Ne.render=(e,t,r)=>{if(!r||"object"!=typeof r||!r.scopeName)throw new Error("The `scopeName` option is required.");var i=r.scopeName,s=G.has(t),n=ie&&11===t.nodeType&&!!t.host,a=n&&!ae.has(i),o=a?document.createDocumentFragment():t;if(((e,t,r)=>{var i=G.get(t);void 0===i&&(b(t,t.firstChild),G.set(t,i=new U(Object.assign({templateFactory:X},r))),i.appendInto(t)),i.setValue(e),i.commit()})(e,o,Object.assign({templateFactory:se(i)},r)),a){var l=G.get(o);G.delete(o);var h=l.value instanceof O?l.value.template:void 0;oe(i,o,h),b(t,t.firstChild),t.appendChild(o),G.set(t,l)}!s&&n&&window.ShadyCSS.styleElement(t.host)};var Ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Ee={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Te=Object.prototype.toString,Me=function(e){var t;return"[object Object]"===Te.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))},Oe=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},Ve=function(e){var t,r,i=[],s=1;if("string"==typeof e)if(Ee[e])i=Ee[e].slice(),r="rgb";else if("transparent"===e)s=0,r="rgb",i=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var n=(l=e.slice(1)).length;s=1,n<=4?(i=[parseInt(l[0]+l[0],16),parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16)],4===n&&(s=parseInt(l[3]+l[3],16)/255)):(i=[parseInt(l[0]+l[1],16),parseInt(l[2]+l[3],16),parseInt(l[4]+l[5],16)],8===n&&(s=parseInt(l[6]+l[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),r="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var a=t[1],o="rgb"===a,l=a.replace(/a$/,"");r=l;n="cmyk"===l?4:"gray"===l?1:3;i=t[2].trim().split(/\s*,\s*/).map((function(e,t){if(/%$/.test(e))return t===n?parseFloat(e)/100:"rgb"===l?255*parseFloat(e)/100:parseFloat(e);if("h"===l[t]){if(/deg$/.test(e))return parseFloat(e);if(void 0!==Re[e])return Re[e]}return parseFloat(e)})),a===l&&i.push(1),s=o?1:void 0===i[n]?1:i[n],i=i.slice(0,n)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(i=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)})),r=e.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(e))if(Me(e)){var h=Oe(e.r,e.red,e.R,null);null!==h?(r="rgb",i=[h,Oe(e.g,e.green,e.G),Oe(e.b,e.blue,e.B)]):(r="hsl",i=[Oe(e.h,e.hue,e.H),Oe(e.s,e.saturation,e.S),Oe(e.l,e.lightness,e.L,e.b,e.brightness)]),s=Oe(e.a,e.alpha,e.opacity,1),null!=e.opacity&&(s/=100)}else(Array.isArray(e)||Ae.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e))&&(i=[e[0],e[1],e[2]],r="rgb",s=4===e.length?e[3]:1);else r="rgb",i=[e>>>16,(65280&e)>>>8,255&e];return{space:r,values:i,alpha:s}},Re={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};var je={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,r,i,s,n,a=e[0]/360,o=e[1]/100,l=e[2]/100;if(0===o)return[n=255*l,n,n];t=2*l-(r=l<.5?l*(1+o):l+o-l*o),s=[0,0,0];for(var h=0;h<3;h++)(i=a+1/3*-(h-1))<0?i++:i>1&&i--,n=6*i<1?t+6*(r-t)*i:2*i<1?r:3*i<2?t+(r-t)*(2/3-i)*6:t,s[h]=255*n;return s}};var qe=function(e,t,r){return e*(1-r)+t*r},ze=function(e,t,r){return t<r?e<t?t:e>r?r:e:e<r?r:e>t?t:e};var Fe=function(e){return e=e.map((function(e){if("rgb"!=(e=Ve(e)).space){if("hsl"!=e.space)throw"c.spacespace is not supported.";e.values=je.rgb(e.values)}return e.values.push(e.alpha),e.values})),function(t,r){r=r||qe,t=ze(t,0,1);var i=(e.length-1)*t,s=Math.floor(i),n=Math.ceil(i);t=i-s;var a=e[s],o=e[n],l=a.map((function(e,i){return e=r(e,o[i],t),i<3&&(e=Math.round(e)),e}));return 1===l[3]?"rgb("+l.slice(0,3)+")":"rgba("+l+")"}};var Ue,Be,Ie=(function(e,t){var r;function i(e,t,i){if(!i||typeof i.value!==r.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+t+"> is not a method!");return{configurable:r.boolTrue,get:function(){var e=i.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:r.boolTrue,writable:r.boolTrue}),e}}}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.typeOfFunction="function",e.boolTrue=!0}(r||(r={})),t.bind=i,t.default=i}(Ue={exports:{}},Ue.exports),Ue.exports),Le=(Be=Ie)&&Be.__esModule&&Object.prototype.hasOwnProperty.call(Be,"default")?Be.default:Be;Ie.bind;const He=(e,t)=>a(s(e,t));function $e(e){return t=>{if(t instanceof MouseEvent){if(t.button>0)return;return e(function(e){return{button:e.button,clientX:e.clientX,clientY:e.clientY,identifier:"__mouse__"}}(t))}return t.preventDefault(),Array.from(t.changedTouches).map(e)}}const We=e=>Fe(["black","red"])(100*e);let De=class extends Ne{constructor(){super(...arguments),this.touchPaths=new Map,this.curves=[],this.seglength=5,this.bufferWidth=300,this.bufferHeight=200,this.preserveArea=!1,this.colorCode=!0,this.paused=!1}get ctx(){return this.canvas?this.canvas.getContext("2d"):null}render(){return K`
            <style>
                :host {
                    position: relative;
                }

                canvas {
                    width: 100%;
                    height: 100%;
                    margin: 0;
                    padding: 0;
                }

                #clear {
                    position: absolute;
                    bottom: 10px;
                    left: 10px;
                }
            </style>
            <canvas width=${this.bufferWidth}
                    height=${this.bufferHeight}
                    @mousemove=${$e(this.touchMove)}
                    @touchmove=${$e(this.touchMove)}
                    @mousedown=${$e(this.touchStart)}
                    @touchstart=${$e(this.touchStart)}
                    @mouseup=${$e(this.touchEnd)}
                    @touchend=${$e(this.touchEnd)}
                    @selectstart=${()=>!1}
                    >
            </canvas>
            <button id="clear" @click=${()=>this.curves=[]}>Clear curves</button>
        `}firstUpdated(){window.addEventListener("resize",this.resize),window.addEventListener("orientationchange",this.resize),this.resize(),requestAnimationFrame(this.startFlow)}startFlow(){this.canvas&&this.curves.push(function(e){for(var t=200,r=[],i=0;i<t;i++){var s=e.width/2+e.width*(.05*Math.cos(2*Math.PI*i/t));r.push([s+.2*e.width*Math.pow(Math.cos(2*Math.PI*i/t),101),e.height*(.15+.05*Math.sin(2*Math.PI*i/t)+.05*Math.sin(s/5)+.7*Math.pow(Math.sin(2*Math.PI*i/t),150))])}return new d(r)}(this.canvas)),this.tick()}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.resize),window.removeEventListener("orientationchange",this.resize)}resize(){const e=this.ctx;if(!e)return;const t=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);this.bufferWidth=this.canvas&&this.canvas.clientWidth*t||0,this.bufferHeight=this.canvas&&this.canvas.clientHeight*t||0,this.seglength=5*t}touchStart(e){this.touchPaths.set(e.identifier,[]),this.touchMove(e)}touchMove(e){const t=this.touchPaths.get(e.identifier);if(!t)return;if(!this.canvas)return;const r=this.canvas.getBoundingClientRect(),i=[(e.clientX-r.left)/(r.right-r.left)*this.canvas.width,(e.clientY-r.top)/(r.bottom-r.top)*this.canvas.height],s=!!t.length&&t[t.length-1];(!s||He(i,s)>Math.pow(this.seglength,2))&&t.push(i)}touchEnd(e){const t=this.touchPaths.get(e.identifier);if(!t)return;let r=t[0];for(;He(r,t[t.length-1])>Math.pow(this.seglength,2);){let e=t[t.length-1],o=s(r,e),l=Math.pow(a(o),.5);t.push(i(e,n(o,this.seglength/l)))}this.curves.push(new d(t)),this.touchPaths.delete(e.identifier)}tick(){if(requestAnimationFrame(this.tick),this.paused)return;const e=this.canvas,t=this.ctx;if(!t||!e)return;t.clearRect(0,0,e.width,e.height),t.fillStyle="black",t.textAlign="center",t.textBaseline="top",0==this.curves.length&&0==this.touchPaths.size&&(t.font="40px MathJax_Main",t.fillText("Draw a closed curve",e.width/2,10)),t.fillStyle="darkgrey";for(let[e,r]of this.touchPaths.entries())g(r,t,.25);t.fillStyle="black",this.curves=this.curves.filter(e=>e.length>=5&&e.curvature().max()<5e3);const r=([t,r])=>t>0&&t<e.width&&r>0&&r<e.height;for(let[e,i]of this.curves.entries()){const s=i.area();i=i.filter(r),i=i.map(c(1/i.curvature().max())),this.preserveArea&&(i=i.scale(Math.sqrt(s/i.area()))),this.curves[e]=i,p(i,this.seglength),v(i),f(i,t,{colorFunction:this.colorCode?(e,t,r)=>We(u(r)):()=>"black"})}}};var Je;e([(Je="canvas",(e,t)=>{var r={get(){return this.renderRoot.querySelector(Je)},enumerable:!0,configurable:!0};return void 0!==t?xe(r,e,t):Pe(r,e)})],De.prototype,"canvas",void 0),e([Se({type:Number})],De.prototype,"bufferWidth",void 0),e([Se({type:Number})],De.prototype,"bufferHeight",void 0),e([Se({type:Boolean})],De.prototype,"preserveArea",void 0),e([Se({type:Boolean})],De.prototype,"colorCode",void 0),e([Se({type:Boolean})],De.prototype,"paused",void 0),e([Le],De.prototype,"startFlow",null),e([Le],De.prototype,"resize",null),e([Le],De.prototype,"touchStart",null),e([Le],De.prototype,"touchMove",null),e([Le],De.prototype,"touchEnd",null),e([Le],De.prototype,"tick",null),De=e([(e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{var{kind:r,elements:i}=t;return{kind:r,elements:i,finisher(t){window.customElements.define(e,t)}}})(e,t))("csf-app")],De);
